# Сервис бронирования билетов в кино 

1. Скопировать репозиторий командой git clone https://github.com/antk25/internship_3.git
2. Перейдите в директорию `docker` командой `cd docker`
3. Скопируйте файл `.env.example` в `.env` командой `cp .env.example .env`
4. Запустите docker контейнеры командой `docker-compose up -d --build`
5. Вернитесь в рабочую директорию `cd ..`
6. Запустите команду `docker exec -it resolventa_backend_internship_php-fpm_1 bash composer install`
7. Установите миграции и фикстуры командой `docker exec -it resolventa_backend_internship_php-fpm_1 bash install/migrations.sh`
8. Перейдите на [страницу списка сеансов](http://localhost/film-sessions)

## Тесты

Запуск тестов `docker exec -it resolventa_backend_internship_php-fpm_1 make tests`

Для тестирования используется отдельная БД. Фикстуры в функциональных тестах оборачиваются в транзакции и после выполнения теста откатываются.

## Новое задание

1) Разместить баннер на все страницы, в который можно вывести рекламное сообщение:
   "Акция! Для всех студентов скидка 50% каждый четверг."
2) Сделать вывод таблицы клиентов с заказавшими бронь пользователями.
   Требования:
- [ ] Данные имени в таблице должны быть отображены в следующем формате:
  каждое слово в Client::name начинается с большой буквы, например
  для имени " ИвАноВ ивАн иванович " должно быть выведено: "Иванов Иван Иванович"
- [ ] Данные о киносеансе, должны быть выведены через запятую, в формате:
  "Название:Аватар, Дата/время начала сеанса: 14.11.2022 12:00, Продолжительность: 110"
- [ ] Номера имени в таблице должны быть отображены в следующем формате:
  Для мобильных телефонов России и стран СНГ в формате "+7 (987) 456-78-90",
  (в качестве упрощения, принадлежность номера можно определять при совпадении первых цифр шаблону: +79* или 89*);
  Для всех остальных телефонов формат должен быть: "+78001234567";

3*) Использовать node как среду выполнения js. Используя Webpack Encore сделать
рефакторинг текущего кода связанного с отображением.

Конфигурация node для docker:

```yaml
docker/docker-compose.yml:
  node:
    build:
      context: ./node
    volumes:
      - ./../:/usr/src/app
    ports:
      - 8080:8080
    environment:
      - PORT=8080
    networks:
      - internal
```
```yaml
docker/node/Dockerfile:

FROM node:18.12.1

WORKDIR /usr/src/app

USER node
```
Можно использовать yarn или npm.

Команды которые должны пригодиться:
`docker-compose run node yarn`
или
`docker-compose run node npm install`
Требования:

- [ ] Стили должны подключаться из assets.
- [ ] Произвести рефакторинг используя подход БЭМ.
